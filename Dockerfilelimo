FROM ros:melodic-ros-base

RUN apt-get update && apt-get install -y\
    ros-melodic-tf2-geometry-msgs \
    ros-melodic-catkin-virtualenv \
    ros-melodic-ros-control \
    ros-melodic-ros-controllers \
    ros-melodic-rosparam-shortcuts \
    ros-melodic-image-geometry \
    ros-melodic-robot-pose-ekf \
    ros-melodic-navigation\
    ros-melodic-gmapping\
    ros-melodic-behaviortree-cpp-v3\
    python3-catkin-tools 

RUN apt-get update\
    && apt-get -y install --no-install-recommends \
    wget \
    g++ \
    lsb-release\
    locales \
    cmake \
    curl

ARG DEBIAN_FRONTEND=noninteractive
RUN dpkg-reconfigure locales

RUN sh -c "$(wget -O- https://github.com/deluan/zsh-in-docker/releases/download/v1.1.3/zsh-in-docker.sh)" -- \
    -t robbyrussell \
    -p git \
    -p https://github.com/zsh-users/zsh-autosuggestions \
    -p https://github.com/zsh-users/zsh-completions

# Handy commands
RUN echo 'export PATH="'"/home/$(id -un)/.local/bin"':$PATH''"' >> ~/.zshrc && \
    echo "alias limo=\"cd /home/thesis/ROS/\"" >> ~/.zshrc && \
    echo "alias cbuild='catkin build --cmake-args -DCMAKE_BUILD_TYPE=Release'" >> ~/.zshrc && \ 
    echo "source /opt/ros/melodic/setup.zsh" >> ~/.zshrc  &&\
    echo "source /home/thesis/ROS/devel/setup.zsh" >> ~/.zshrc 
